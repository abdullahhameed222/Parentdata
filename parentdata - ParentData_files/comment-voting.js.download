jQuery(document).ready(function ($) {
  const hash = window.location.hash;

  if (hash === "#leave-comment") {
    const target = $(hash);

    if (target.length) {
      const offset = target.offset().top - 200;

      $("html, body").animate(
        {
          scrollTop: offset,
        },
        "smooth"
      );
    }
  }
  $(document).on("click", ".wpd-vote-up", function () {
    if (user_data.user_id != 0) {
      var voteWrapper = $(this).closest(".wpd-vote");
      voteWrapper.toggleClass("wpd-comment-liked");
      var voteUpSvg = voteWrapper.find(".wpd-vote-up svg");
      var isLiked = voteWrapper.hasClass("wpd-comment-liked");

      if (isLiked) {
        voteUpSvg.attr("viewBox", "0 0 12 16");
        voteUpSvg.attr("width", "12");
        voteUpSvg.attr("height", "16");
        voteUpSvg.html(`
          <path d="M0 9.54182V14.4819C0 14.9344 0.377104 15.3115 0.829629 15.3115H2.37576C2.63973 15.3115 2.88485 15.1795 3.03569 14.9721C3.54478 15.5001 4.11044 15.5001 4.14815 15.5001H9.23906C10.3892 15.5001 10.8418 14.4253 10.936 13.8597L11.5017 9.90007V9.8435C11.5017 8.59906 10.4835 8.14653 9.80471 8.14653H7.54209V6.07246V6.03475C7.46667 5.43138 7.2404 4.97885 6.82559 4.67717C6.12795 4.18693 5.24175 4.37549 5.20404 4.37549L4.90236 4.45091V7.1472C4.63838 8.10882 3.52593 8.73104 2.99798 8.97616C2.84714 8.80646 2.62088 8.69333 2.39461 8.69333H0.848485C0.377104 8.71219 0 9.08929 0 9.54182ZM5.63771 7.29805L5.65657 7.26033V5.09199C5.86397 5.09199 6.16566 5.1297 6.39192 5.29939C6.61818 5.45023 6.75017 5.73306 6.78788 6.11017V8.90074H9.80471C9.89899 8.90074 10.7286 8.91959 10.7475 9.82465L10.1818 13.7465C10.1818 13.7842 10.0121 14.7459 9.23906 14.7459H4.14815C4.14815 14.7459 3.50707 14.7081 3.20539 13.7465V9.71151C3.80875 9.44754 5.29832 8.65562 5.63771 7.29805Z" fill="#1A1A1A"></path>
          <path d="M3.39364 5.69531H0.753906V6.44952H3.39364V5.69531Z" fill="#1A1A1A"></path>
          <path d="M11.6886 5.69531H9.04883V6.44952H11.6886V5.69531Z" fill="#1A1A1A"></path>
          <path d="M9.90757 1.66763L8.04102 3.53418L8.57432 4.06748L10.4409 2.20093L9.90757 1.66763Z" fill="#1A1A1A"></path>
          <path d="M2.54111 1.66689L2.00781 2.2002L3.87437 4.06675L4.40767 3.53345L2.54111 1.66689Z" fill="#1A1A1A"></path>
          <path d="M6.59991 0.227539H5.8457V2.86727H6.59991V0.227539Z" fill="#1A1A1A"></path>
      `);
      } else {
        voteUpSvg.attr("viewBox", "0 0 12 12");
        voteUpSvg.attr("width", "12");
        voteUpSvg.attr("height", "12");
        voteUpSvg.html(`
      <path d="M0 5.54182V10.4819C0 10.9344 0.377104 11.3115 0.829629 11.3115H2.37576C2.63973 11.3115 2.88485 11.1795 3.03569 10.9721C3.54478 11.5001 4.11044 11.5001 4.14815 11.5001H9.23906C10.3892 11.5001 10.8418 10.4253 10.936 9.85966L11.5017 5.90007V5.8435C11.5017 4.59906 10.4835 4.14653 9.80471 4.14653H7.54209V2.07246V2.03475C7.46667 1.43138 7.2404 0.978854 6.82559 0.67717C6.12795 0.186935 5.24175 0.375487 5.20404 0.375487L4.90236 0.450908V3.1472C4.63838 4.10882 3.52593 4.73104 2.99798 4.97616C2.84714 4.80646 2.62088 4.69333 2.39461 4.69333H0.848485C0.377104 4.71219 0 5.08929 0 5.54182ZM5.63771 3.29805L5.65657 3.26033V1.09199C5.86397 1.09199 6.16566 1.1297 6.39192 1.29939C6.61818 1.45023 6.75017 1.73306 6.78788 2.11017V4.90074H9.80471C9.89899 4.90074 10.7286 4.91959 10.7475 5.82465L10.1818 9.74653C10.1818 9.78424 10.0121 10.7459 9.23906 10.7459H4.14815C4.14815 10.7459 3.50707 10.7081 3.20539 9.74653V5.71151C3.80875 5.44754 5.29832 4.65562 5.63771 3.29805Z" fill="#1A1A1A"></path>
      `);
      }
    }
  });
});
